<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Simple message app</title>
</head>
 
<body>
<div id="input_div">
  <form action="/" method="post" enctype="multipart/form-data" name="message_form" id="message_form">
    <div id="message_input_div">
      <label for="form_text">Please enter your message</label>
      <br />
      <textarea name="form_text" id="form_text" cols="45" rows="5"></textarea>
    </div>
    <div id="image_input_div">
      <label for="form_image">Please select image</label>
      <br />
      <input type="file" name="form_image" id="form_image" />
    </div>
    <input type="submit" name="submit" id="submit" value="Submit" />
  </form>
</div>
 
<div id="message_div">
  {% for message in messages %}
    <hr />
    <p>{{ message.text }} </p>
    <p><img src="img?entity_id={{ message.key }}" /></p>
  {% endfor %}
</div>
</body>
</html>